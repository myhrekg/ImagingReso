
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Tutorial &#8212; ImagingReso 0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Introduction" href="introduction.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tutorial">
<h1>Tutorial<a class="headerlink" href="#tutorial" title="Permalink to this headline">¶</a></h1>
<p>In a first time, you need to install the library</p>
<p>$ pip install ImagingReso</p>
<p>then you need to import it</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">ImagingReso</span>
</pre></div>
</div>
<div class="section" id="initialization">
<h2>Initialization<a class="headerlink" href="#initialization" title="Permalink to this headline">¶</a></h2>
<p>we first define our stack of elements. Each layer of the stack can be a single element, or a compound and
is defined by a dictionary  where the
thickness is defined in mm, the density in g/cm3 and the ratio is the stochiometric coefficient of each element.</p>
<div class="section" id="example">
<h3>example:<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">_stack</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;CoAg&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;elements&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Co&#39;</span><span class="p">,</span><span class="s1">&#39;Ag&#39;</span><span class="p">],</span>
<span class="go">                   &#39;stochiometric_ratio&#39;: [1,1],</span>
<span class="go">                   &#39;thickness&#39;: {&#39;value&#39;: 0.025,</span>
<span class="go">                                &#39;units&#39;: &#39;mm&#39;},</span>
<span class="go">                   &#39;density&#39;: {&#39;value&#39;: 0.5,</span>
<span class="go">                              &#39;units&#39;: &#39;g/cm3&#39;},</span>
<span class="go">                  },</span>
<span class="go">         &#39;U&#39;: {&#39;elements&#39;: [&#39;U&#39;],</span>
<span class="go">               &#39;stochiometric_ratio&#39;: [1],</span>
<span class="go">              &#39;thickness&#39;: {&#39;value&#39;: 0.3,</span>
<span class="go">                            &#39;units&#39;: &#39;mm&#39;},</span>
<span class="go">                &#39;density&#39;: {&#39;value&#39;: np.NaN,</span>
<span class="go">                            &#39;units&#39;: &#39;g/cm3&#39;},</span>
<span class="go">              },</span>
<span class="go">         }</span>
</pre></div>
</div>
<p>Then you can now initialize the object as followed, in this case we use a energy range of 0 to 300 eV with
10 eV of energy step.</p>
<p>As noted that if the density is omitted, the program will use the stochiometri_ratio and theoretical density of each element to
estimage the density of the compound (layer)</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">o_reso</span> <span class="o">=</span> <span class="n">ImagingReso</span><span class="o">.</span><span class="n">Resonance</span><span class="p">(</span><span class="n">stack</span> <span class="o">=</span> <span class="n">_stack</span><span class="p">,</span> <span class="n">energy_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">energy_max</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">energy_step</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>It is also possible to define the layers (stack) one by one using their formula as demonstrated here</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">o_reso</span> <span class="o">=</span> <span class="n">ImagingReso</span><span class="o">.</span><span class="n">Resonance</span><span class="p">(</span><span class="n">energy_min</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">energy_max</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">energy_step</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stack1</span> <span class="o">=</span> <span class="s1">&#39;CoAg&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">thickness1</span> <span class="o">=</span> <span class="mf">0.025</span> <span class="c1">#mm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">density1</span> <span class="o">=</span> <span class="mf">0.5</span> <span class="c1">#g/cm3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">o_reso</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">formula</span><span class="o">=</span><span class="n">stack1</span><span class="p">,</span> <span class="n">thickness</span><span class="o">=</span><span class="n">thickness1</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="n">density1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stack2</span> <span class="o">=</span> <span class="s1">&#39;U&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">thcikness2</span> <span class="o">=</span> <span class="mf">0.3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">o_reso</span><span class="o">.</span><span class="n">add_layer</span><span class="p">(</span><span class="n">formula</span><span class="o">=</span><span class="n">stack2</span><span class="p">,</span> <span class="n">thcikness</span><span class="o">=</span><span class="n">thickness2</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>All the parameters defined can be checked as followed</strong></p>
<p>The list of stack displays the input information, but also reported the list of isotopes, mass, etc, for
the elements you defined, for each layer.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pprint</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">o_reso</span><span class="o">.</span><span class="n">slack</span><span class="p">)</span>
<span class="go">{&#39;CoAg&#39;: {&#39;Ag&#39;: {&#39;density&#39;: {&#39;units&#39;: &#39;g/cm3&#39;, &#39;value&#39;: 10.5},</span>
<span class="go">                 &#39;isotopes&#39;: {&#39;density&#39;: {&#39;units&#39;: &#39;g/cm3&#39;,</span>
<span class="go">                                          &#39;value&#39;: [10.406250187729098,</span>
<span class="go">                                                    10.600899412431097]},</span>
<span class="go">                              &#39;file_names&#39;: [&#39;Ag-107.csv&#39;, &#39;Ag-109.csv&#39;],</span>
<span class="go">                              &#39;isotopic_ratio&#39;: [0.51839, 0.48161000000000004],</span>
<span class="go">                              &#39;list&#39;: [&#39;107-Ag&#39;, &#39;109-Ag&#39;],</span>
<span class="go">                              &#39;mass&#39;: {&#39;units&#39;: &#39;g/mol&#39;,</span>
<span class="go">                                       &#39;value&#39;: [106.905093, 108.904756]}},</span>
<span class="go">                 &#39;molar_mass&#39;: {&#39;units&#39;: &#39;g/mol&#39;, &#39;value&#39;: 107.8682}},</span>
<span class="go">          &#39;Co&#39;: {&#39;density&#39;: {&#39;units&#39;: &#39;g/cm3&#39;, &#39;value&#39;: 8.9},</span>
<span class="go">                 &#39;isotopes&#39;: {&#39;density&#39;: {&#39;units&#39;: &#39;g/cm3&#39;,</span>
<span class="go">                                          &#39;value&#39;: [8.749367803547068,</span>
<span class="go">                                                    8.900000030203689]},</span>
<span class="go">                              &#39;file_names&#39;: [&#39;Co-58.csv&#39;, &#39;Co-59.csv&#39;],</span>
<span class="go">                              &#39;isotopic_ratio&#39;: [0.0, 1.0],</span>
<span class="go">                              &#39;list&#39;: [&#39;58-Co&#39;, &#39;59-Co&#39;],</span>
<span class="go">                              &#39;mass&#39;: {&#39;units&#39;: &#39;g/mol&#39;,</span>
<span class="go">                                       &#39;value&#39;: [57.9357576, 58.9332002]}},</span>
<span class="go">                 &#39;molar_mass&#39;: {&#39;units&#39;: &#39;g/mol&#39;, &#39;value&#39;: 58.9332}},</span>
<span class="go">          &#39;atoms_per_cm3&#39;: {&#39;Ag&#39;: 1.8051829472054791e+21,</span>
<span class="go">                            &#39;Co&#39;: 1.8051829472054791e+21},</span>
<span class="go">          &#39;density&#39;: {&#39;units&#39;: &#39;g/cm3&#39;, &#39;value&#39;: 0.5},</span>
<span class="go">          &#39;elements&#39;: [&#39;Co&#39;, &#39;Ag&#39;],</span>
<span class="go">          &#39;stochiometric_ratio&#39;: [1, 1],</span>
<span class="go">          &#39;thickness&#39;: {&#39;units&#39;: &#39;mm&#39;, &#39;value&#39;: 0.025}},</span>
<span class="go"> &#39;U&#39;: {&#39;U&#39;: {&#39;density&#39;: {&#39;units&#39;: &#39;g/cm3&#39;, &#39;value&#39;: 18.95},</span>
<span class="go">             &#39;isotopes&#39;: {&#39;density&#39;: {&#39;units&#39;: &#39;g/cm3&#39;,</span>
<span class="go">                                      &#39;value&#39;: [18.552792392319066,</span>
<span class="go">                                                18.632509467526443,</span>
<span class="go">                                                18.712358690988417,</span>
<span class="go">                                                18.951741325328925]},</span>
<span class="go">                          &#39;file_names&#39;: [&#39;U-233.csv&#39;,</span>
<span class="go">                                         &#39;U-234.csv&#39;,</span>
<span class="go">                                         &#39;U-235.csv&#39;,</span>
<span class="go">                                         &#39;U-238.csv&#39;],</span>
<span class="go">                          &#39;isotopic_ratio&#39;: [0.0,</span>
<span class="go">                                             5.4999999999999995e-05,</span>
<span class="go">                                             0.0072,</span>
<span class="go">                                             0.992745],</span>
<span class="go">                          &#39;list&#39;: [&#39;233-U&#39;, &#39;234-U&#39;, &#39;235-U&#39;, &#39;238-U&#39;],</span>
<span class="go">                          &#39;mass&#39;: {&#39;units&#39;: &#39;g/mol&#39;,</span>
<span class="go">                                   &#39;value&#39;: [233.039628,</span>
<span class="go">                                             234.0409456,</span>
<span class="go">                                             235.0439231,</span>
<span class="go">                                             238.0507826]}},</span>
<span class="go">             &#39;molar_mass&#39;: {&#39;units&#39;: &#39;g/mol&#39;, &#39;value&#39;: 238.02891}},</span>
<span class="go">       &#39;atoms_per_cm3&#39;: {&#39;U&#39;: 4.7943575106128917e+22},</span>
<span class="go">       &#39;density&#39;: {&#39;units&#39;: &#39;g/cm3&#39;, &#39;value&#39;: 18.949999999999999},</span>
<span class="go">       &#39;elements&#39;: [&#39;U&#39;],</span>
<span class="go">       &#39;stochiometric_ratio&#39;: [1],</span>
<span class="go">       &#39;thickness&#39;: {&#39;units&#39;: &#39;mm&#39;, &#39;value&#39;: 0.3}}}</span>
</pre></div>
</div>
<p>The energy range defined</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Energy min </span><span class="si">{}</span><span class="s2"> eV&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">o_reso</span><span class="o">.</span><span class="n">energy_min</span><span class="p">))</span>
<span class="go">Energy min 0 eV</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Energy max </span><span class="si">{}</span><span class="s2"> eV&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">o_reso</span><span class="o">.</span><span class="n">energy_max</span><span class="p">))</span>
<span class="go">Energy max 300 eV</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Energy step </span><span class="si">{}</span><span class="s2"> eV&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">o_reso</span><span class="o">.</span><span class="n">energy_step</span><span class="p">))</span>
<span class="go">Energy step 10 eV</span>
</pre></div>
</div>
<p>During the initialization process, the following things take place behind the scene
- the number of atoms per cm3 of each element is calculated
- the density of each layer (if not provided is estimated)
- the arrays of Sigma (barns) vs Energy for each isotope is retrieved</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">o_reso</span><span class="o">.</span><span class="n">stack_sigma</span><span class="p">)</span>
<span class="go">{&#39;CoAg&#39;: {&#39;Ag&#39;: {&#39;107-Ag&#39;: {&#39;energy_eV&#39;: array([  1.00000000e-05,   1.03401821e+01,   2.06803541e+01,</span>
<span class="go">         ...</span>
<span class="go">         2.79184656e+02,   2.89524828e+02,   2.99865000e+02]),</span>
<span class="go">                            &#39;sigma_b&#39;: array([ 1938.91      ,     6.69765395,     6.9742027 ,     5.28153402,</span>
<span class="go">         ...</span>
<span class="go">         4.73100823,     4.11286   ])},</span>
<span class="go">                 &#39;109-Ag&#39;: {&#39;energy_eV&#39;: array([  1.00000000e-05,   1.03446648e+01,   2.06893197e+01,</span>
<span class="go">         ...</span>
<span class="go">         2.79305690e+02,   2.89650345e+02,   2.99995000e+02]),</span>
<span class="go">                            &#39;sigma_b&#39;: array([  4.51167000e+03,   1.19932847e+01,   5.51138934e+00,</span>
<span class="go">         ...</span>
<span class="go">         4.32864623e+00,   1.19208304e+01,   5.41247000e+00])},</span>
<span class="go">                 &#39;energy_ev&#39;: array([  1.00000000e-05,   1.03424234e+01,   2.06848369e+01,</span>
<span class="go">         ...</span>
<span class="go">         2.79245173e+02,   2.89587587e+02,   2.99930000e+02]),</span>
<span class="go">                 &#39;sigma&#39;: array([ 3177.9769436 ,     9.24808268,     6.26969716,    64.29044465,</span>
<span class="go">         ...</span>
<span class="go">         8.19369849,     4.73876517])},</span>
</pre></div>
</div>
<blockquote>
<div><p>…</p>
<blockquote>
<div>}}}</div></blockquote>
</div></blockquote>
</div>
</div>
<div class="section" id="modify-isotopic-ratio">
<h2>Modify Isotopic Ratio<a class="headerlink" href="#modify-isotopic-ratio" title="Permalink to this headline">¶</a></h2>
<p>Let’s presume that the U layer of our sample does not have the default isotopic_ratio reported</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">U-233</span> <span class="pre">-&gt;</span> <span class="pre">0</span>
<span class="pre">U-234</span> <span class="pre">-&gt;</span> <span class="pre">5.5e-5</span>
<span class="pre">U-235</span> <span class="pre">-&gt;</span> <span class="pre">0.007</span>
<span class="pre">U-238</span> <span class="pre">-&gt;</span> <span class="pre">0.99</span>
<span class="pre">`</span></code></p>
<p>but instead</p>
<p><code class="docutils literal"><span class="pre">`</span>
<span class="pre">U-233</span> <span class="pre">-&gt;</span> <span class="pre">0</span>
<span class="pre">U-234</span> <span class="pre">-&gt;</span> <span class="pre">0</span>
<span class="pre">U-235</span> <span class="pre">-&gt;</span> <span class="pre">0.15</span>
<span class="pre">U-238</span> <span class="pre">-&gt;</span> <span class="pre">085</span>
<span class="pre">`</span></code></p>
<div class="section" id="display-current-isotopic-ratio">
<h3>Display current isotopic ratio<a class="headerlink" href="#display-current-isotopic-ratio" title="Permalink to this headline">¶</a></h3>
<p>It’s possible to display the current list of isotopic ratio</p>
<p>To display the entire list</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">o_reso</span><span class="o">.</span><span class="n">get_stochiometric_ratio</span><span class="p">())</span>
<span class="go">{&#39;CoAg&#39;: {&#39;Ag&#39;: {&#39;107-Ag&#39;: 0.51839, &#39;109-Ag&#39;: 0.48161000000000004},</span>
<span class="go">          &#39;Co&#39;: {&#39;58-Co&#39;: 0.0, &#39;59-Co&#39;: 1.0}},</span>
<span class="go"> &#39;U&#39;: {&#39;U&#39;: {&#39;233-U&#39;: 0.0,</span>
<span class="go">             &#39;234-U&#39;: 5.4999999999999995e-05,</span>
<span class="go">             &#39;235-U&#39;: 0.0072,</span>
<span class="go">             &#39;238-U&#39;: 0.992745}}}</span>
</pre></div>
</div>
<p>From there, it’s possible to narrow down the search to the compound and element we are looking for</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">o_reso</span><span class="o">.</span><span class="n">get_stochiometric_ratio</span><span class="p">(</span><span class="n">compound</span><span class="o">=</span><span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="n">element</span><span class="o">=</span><span class="s1">&#39;U&#39;</span><span class="p">))</span>
<span class="go">{&#39;233-U&#39;: 0.0,</span>
<span class="go"> &#39;234-U&#39;: 5.4999999999999995e-05,</span>
<span class="go"> &#39;235-U&#39;: 0.0072,</span>
<span class="go"> &#39;238-U&#39;: 0.992745}</span>
</pre></div>
</div>
<p>if compound is composed of only 1 element, <strong>element</strong> paremeter can be omitted
&gt;&gt;&gt; pprint.pprint(o_reso.get_stochiometric_ratio(compound=’U’))
{‘233-U’: 0.0,</p>
<blockquote>
<div>‘234-U’: 5.4999999999999995e-05,
‘235-U’: 0.0072,
‘238-U’: 0.992745}</div></blockquote>
</div>
<div class="section" id="define-new-set-of-isotopic-ratio">
<h3>Define new set of isotopic ratio<a class="headerlink" href="#define-new-set-of-isotopic-ratio" title="Permalink to this headline">¶</a></h3>
<p>Let’s presume our new set of ‘U’ ratio is</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">new_list_ratio</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">]</span>
</pre></div>
</div>
<p>Let’s define the new stochiomettric ratio</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">o_reso</span><span class="o">.</span><span class="n">set_stochiometric_ratio</span><span class="p">(</span><span class="n">compound</span><span class="o">=</span><span class="s1">&#39;U&#39;</span><span class="p">,</span> <span class="n">list_ratio</span><span class="o">=</span><span class="n">new_list_ratio</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">o_reso</span><span class="o">.</span><span class="n">stack</span><span class="p">)</span>
<span class="go">{&#39;CoAg&#39;: {&#39;Ag&#39;: {&#39;density&#39;: {&#39;units&#39;: &#39;g/cm3&#39;, &#39;value&#39;: 10.5},</span>
<span class="go">                 &#39;isotopes&#39;: {&#39;density&#39;: {&#39;units&#39;: &#39;g/cm3&#39;,</span>
<span class="go">                                          &#39;value&#39;: [10.406250187729098,</span>
<span class="go">                                                    10.600899412431097]},</span>
<span class="go">                              &#39;file_names&#39;: [&#39;Ag-107.csv&#39;, &#39;Ag-109.csv&#39;],</span>
<span class="go">                              &#39;isotopic_ratio&#39;: [0.51839, 0.48161000000000004],</span>
<span class="go">                              &#39;list&#39;: [&#39;107-Ag&#39;, &#39;109-Ag&#39;],</span>
<span class="go">                              &#39;mass&#39;: {&#39;units&#39;: &#39;g/mol&#39;,</span>
<span class="go">                                       &#39;value&#39;: [106.905093, 108.904756]}},</span>
<span class="go">                 &#39;molar_mass&#39;: {&#39;units&#39;: &#39;g/mol&#39;, &#39;value&#39;: 107.8682}},</span>
<span class="go">          &#39;Co&#39;: {&#39;density&#39;: {&#39;units&#39;: &#39;g/cm3&#39;, &#39;value&#39;: 8.9},</span>
<span class="go">                 &#39;isotopes&#39;: {&#39;density&#39;: {&#39;units&#39;: &#39;g/cm3&#39;,</span>
<span class="go">                                          &#39;value&#39;: [8.749367803547068,</span>
<span class="go">                                                    8.900000030203689]},</span>
<span class="go">                              &#39;file_names&#39;: [&#39;Co-58.csv&#39;, &#39;Co-59.csv&#39;],</span>
<span class="go">                              &#39;isotopic_ratio&#39;: [0.0, 1.0],</span>
<span class="go">                              &#39;list&#39;: [&#39;58-Co&#39;, &#39;59-Co&#39;],</span>
<span class="go">                              &#39;mass&#39;: {&#39;units&#39;: &#39;g/mol&#39;,</span>
<span class="go">                                       &#39;value&#39;: [57.9357576, 58.9332002]}},</span>
<span class="go">                 &#39;molar_mass&#39;: {&#39;units&#39;: &#39;g/mol&#39;, &#39;value&#39;: 58.9332}},</span>
<span class="go">          &#39;atoms_per_cm3&#39;: {&#39;Ag&#39;: 1.8051829472054791e+21,</span>
<span class="go">                            &#39;Co&#39;: 1.8051829472054791e+21},</span>
<span class="go">          &#39;density&#39;: {&#39;units&#39;: &#39;g/cm3&#39;, &#39;value&#39;: 0.5},</span>
<span class="go">          &#39;elements&#39;: [&#39;Co&#39;, &#39;Ag&#39;],</span>
<span class="go">          &#39;stochiometric_ratio&#39;: [1, 1],</span>
<span class="go">          &#39;thickness&#39;: {&#39;units&#39;: &#39;mm&#39;, &#39;value&#39;: 0.025}},</span>
<span class="go"> &#39;U&#39;: {&#39;U&#39;: {&#39;density&#39;: {&#39;units&#39;: &#39;g/cm3&#39;, &#39;value&#39;: 18.680428927650006},</span>
<span class="go">             &#39;isotopes&#39;: {&#39;density&#39;: {&#39;units&#39;: &#39;g/cm3&#39;,</span>
<span class="go">                                      &#39;value&#39;: [18.552792392319066,</span>
<span class="go">                                                18.632509467526443,</span>
<span class="go">                                                18.712358690988417,</span>
<span class="go">                                                18.951741325328925]},</span>
<span class="go">                          &#39;file_names&#39;: [&#39;U-233.csv&#39;,</span>
<span class="go">                                         &#39;U-234.csv&#39;,</span>
<span class="go">                                         &#39;U-235.csv&#39;,</span>
<span class="go">                                         &#39;U-238.csv&#39;],</span>
<span class="go">                          &#39;isotopic_ratio&#39;: [0.2, 0.3, 0.4, 0.1],</span>
<span class="go">                          &#39;list&#39;: [&#39;233-U&#39;, &#39;234-U&#39;, &#39;235-U&#39;, &#39;238-U&#39;],</span>
<span class="go">                          &#39;mass&#39;: {&#39;units&#39;: &#39;g/mol&#39;,</span>
<span class="go">                                   &#39;value&#39;: [233.039628,</span>
<span class="go">                                             234.0409456,</span>
<span class="go">                                             235.0439231,</span>
<span class="go">                                             238.0507826]}},</span>
<span class="go">             &#39;molar_mass&#39;: {&#39;units&#39;: &#39;g/mol&#39;, &#39;value&#39;: 234.64285678}},</span>
<span class="go">       &#39;atoms_per_cm3&#39;: {&#39;U&#39;: 4.7943575106128917e+22},</span>
<span class="go">       &#39;density&#39;: {&#39;units&#39;: &#39;g/cm3&#39;, &#39;value&#39;: 18.949999999999999},</span>
<span class="go">       &#39;elements&#39;: [&#39;U&#39;],</span>
<span class="go">       &#39;stochiometric_ratio&#39;: [1],</span>
<span class="go">       &#39;thickness&#39;: {&#39;units&#39;: &#39;mm&#39;, &#39;value&#39;: 0.3}}}</span>
</pre></div>
</div>
<p>As you can see, the <strong>density</strong> and <strong>molar_mass</strong> values of the <em>U</em> compound/element have been updated.</p>
<p>Let’s assume that the <strong>Ag</strong> element is not perfect and has some voids that changes its density to 8.5 (instead of 10.5).
We need to change this value.</p>
<p>First, we can have the current density value for this element</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">o_reso</span><span class="o">.</span><span class="n">get_density</span><span class="p">(</span><span class="n">compound</span><span class="o">=</span><span class="s1">&#39;CoAg&#39;</span><span class="p">,</span> <span class="n">element</span><span class="o">=</span><span class="s1">&#39;Co&#39;</span><span class="p">))</span>
<span class="go">10.5</span>
</pre></div>
</div>
<p>or of all the compounds</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">o_reso</span><span class="o">.</span><span class="n">get_density</span><span class="p">())</span>
<span class="go">{&#39;CoAg&#39;: {&#39;Ag&#39;: 10.5, &#39;Co&#39;: 8.9}, &#39;U&#39;: {&#39;U&#39;: 18.680428927650006}}</span>
</pre></div>
</div>
<p>And now we can change the value of the density for the <strong>Co</strong> element</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">o_reso</span><span class="o">.</span><span class="n">set_density</span><span class="p">(</span><span class="n">compound</span><span class="o">=</span><span class="s1">&#39;CoAg&#39;</span><span class="p">,</span> <span class="n">element</span><span class="o">=</span><span class="s1">&#39;Co&#39;</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="mf">8.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">o_reso</span><span class="o">.</span><span class="n">get_density</span><span class="p">())</span>
<span class="go">{&#39;CoAg&#39;: {&#39;Ag&#39;: 10.5, &#39;Co&#39;: 20}, &#39;U&#39;: {&#39;U&#39;: 18.680428927650006}}</span>
</pre></div>
</div>
</div>
<div class="section" id="retrieve-the-transmission-and-attenuation-signals">
<h3>Retrieve the Transmission and Attenuation signals<a class="headerlink" href="#retrieve-the-transmission-and-attenuation-signals" title="Permalink to this headline">¶</a></h3>
<p>Those arrays for each Compound, element and isotopes are calculated during initialization of the object, but also
every time one of the parameters is modified, such as density, stochiometric coefficient.</p>
<p>Those arrays are store in the <strong>stack_signal</strong> dictionary</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">o_reso</span><span class="o">.</span><span class="n">stack_signal</span><span class="p">)</span>
<span class="go">{&#39;CoAg&#39;: {&#39;Ag&#39;: {&#39;107-Ag&#39;: {&#39;attenuation&#39;: array([  8.71204643e-03,   3.02257699e-05,   3.14737842e-05,</span>
<span class="go">        ...</span>
<span class="go">         2.29850072e-05,   2.13506105e-05,   1.85609896e-05]),</span>
<span class="go">                            &#39;energy_eV&#39;: array([  1.00000000e-05,   1.03401821e+01,   2.06803541e+01,</span>
<span class="go">         ...</span>
<span class="go">         2.79184656e+02,   2.89524828e+02,   2.99865000e+02]),</span>
<span class="go">                            &#39;transmission&#39;: array([ 0.99128795,  0.99996977,  0.99996853,  0.99997616,  0.99823286,</span>
<span class="go">         ...</span>
<span class="go">         0.99997299,  0.99997427,  0.99997701,  0.99997865,  0.99998144])},</span>
<span class="go">                 &#39;109-Ag&#39;: {&#39;attenuation&#39;: array([  2.01550894e-02,   5.41237178e-05,   2.48723558e-05,</span>
<span class="go">         ...</span>
<span class="go">         1.95348051e-05,   5.37967523e-05,   2.44259480e-05]),</span>
<span class="go">         ...</span>
<span class="go">         ...</span>
<span class="go">         }}}}</span>
</pre></div>
</div>
<p>You can retrieve any of those arrays, transmission, attenuation and Energy (eV) (x-axis) arrays as followed</p>
<p>for the compound CoAg</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">transmission_CoAg</span> <span class="o">=</span> <span class="n">o_reso</span><span class="o">.</span><span class="n">stack_signal</span><span class="p">[</span><span class="s1">&#39;CoAg&#39;</span><span class="p">][</span><span class="s1">&#39;transmission&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">energy_CoAg</span> <span class="o">=</span> <span class="n">o_reso</span><span class="o">.</span><span class="n">stack_signal</span><span class="p">[</span><span class="s1">&#39;CoAg&#39;</span><span class="p">][</span><span class="s1">&#39;energy_eV&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>for the element Ag</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">transmission_CoAg_Ag</span> <span class="o">=</span> <span class="n">o_reso</span><span class="o">.</span><span class="n">stack_signal</span><span class="p">[</span><span class="s1">&#39;CoAg&#39;</span><span class="p">][</span><span class="s1">&#39;Ag&#39;</span><span class="p">][</span><span class="s1">&#39;transmission&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">energy_CoAg_Ag</span> <span class="o">=</span> <span class="n">o_reso</span><span class="o">.</span><span class="n">stack_signal</span><span class="p">[</span><span class="s1">&#39;CoAg&#39;</span><span class="p">][</span><span class="s1">&#39;Ag&#39;</span><span class="p">][</span><span class="s1">&#39;energy_eV&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>or for the isotope 107-Ag</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">transmission_CoAg_Ag_107Ag</span> <span class="o">=</span> <span class="n">o_reso</span><span class="o">.</span><span class="n">stack_signal</span><span class="p">[</span><span class="s1">&#39;CoAg&#39;</span><span class="p">][</span><span class="s1">&#39;Ag&#39;</span><span class="p">][</span><span class="s1">&#39;107-Ag&#39;</span><span class="p">][</span><span class="s1">&#39;transmission&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">energy_CoAg_Ag_107Ag</span> <span class="o">=</span> <span class="n">o_reso</span><span class="o">.</span><span class="n">stack_signal</span><span class="p">[</span><span class="s1">&#39;CoAg&#39;</span><span class="p">][</span><span class="s1">&#39;Ag&#39;</span><span class="p">][</span><span class="s1">&#39;107-Ag&#39;</span><span class="p">][</span><span class="s1">&#39;energy_eV&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">ImagingReso</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#initialization">Initialization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#modify-isotopic-ratio">Modify Isotopic Ratio</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="introduction.html" title="previous chapter">Introduction</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Yuxuan (Shawn) Zhang, Jean Bilheux.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/tutorial.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>